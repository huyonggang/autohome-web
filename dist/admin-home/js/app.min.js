!function(){function t(t,i,n){function o(){i.Log.d("init"),i.Log.d(i.Data.get("aid")),i.Api.getAllAdminAdvertising().then(function(t){i.Log.d(t),r.itemList=t.data})}function e(t){}function a(t){swal({title:"您确定要删除这条信息吗",text:"删除后将无法恢复，请谨慎操作！",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"删除",closeOnConfirm:!1},function(){i.Api.deleteAdminAdvertising(i.Data.get("aid"),t.id).then(function(n){if(0==n.status){for(var o=0;o<r.itemList.length;o++)r.itemList[o].id==t.id&&r.itemList.splice(o,1);swal("删除成功！","您已经永久删除了这条信息。","success")}else i.Notify.info("删除失败")})})}function d(){i.Api.addAdminAdvertising(i.Data.get("aid"),r.title,s,r.city,r.url).then(function(t){0==t.status?o():i.Notify.info("添加失败")})}function l(){r.company="",r.discount=""}function e(){i.Api.updateAdminAdvertising(i.Data.get("aid"),c.id,r.title,s,r.city,r.url).then(function(t){0==t.status?o():i.Notify.info("更新失败")})}function u(t){c=t,r.city=t.city,r.title=t.context,r.url=t.url}var c,r=t;r.onDelete=a,r.onAdd=d,r.showAddDialog=l,r.onUpdate=e,r.onSelect=u;var s;o(),t.uploadImg="",r.upload=function(t){n.upload({url:"http://119.23.79.196/api/util/uploadAvitor",data:{file:t}}).then(function(t){var n=t.data;s=n.data.fileName,r.src="http://www.hzautomotive.com/picture/"+s,i.Log.d(n)},function(t){i.Log.d("error"),i.Log.d(t)},function(t){var n=parseInt(100*t.loaded/t.total);console.log("progress: "+n+"% "),i.Log.d(t)})}}angular.module("app").controller("advertising.ManageController",["$scope","Core","Upload",t])}();
!function(){function t(t,i){function n(){i.Log.d("init"),i.Log.d(i.Data.get("aid")),i.Api.getAllAdminOilcardtype().then(function(t){i.Log.d(t),u.itemList=t.data})}function o(t){}function e(t){swal({title:"您确定要删除这条信息吗",text:"删除后将无法恢复，请谨慎操作！",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"删除",closeOnConfirm:!1},function(){i.Api.deleteAdminOilcardtypeById(i.Data.get("aid"),t.id).then(function(n){if(0==n.status){for(var o=0;o<u.itemList.length;o++)u.itemList[o].id==t.id&&u.itemList.splice(o,1);swal("删除成功！","您已经永久删除了这条信息。","success")}else i.Notify.info("删除失败")})})}function a(){i.Api.saveAdminOilcardtype(i.Data.get("aid"),u.company,u.discount).then(function(t){0==t.status?n():i.Notify.info("添加失败")})}function c(){u.company="",u.discount=""}function o(){i.Api.updateAdminOilcardtype(i.Data.get("aid"),l.id,u.title,u.discount).then(function(t){0==t.status?n():i.Notify.info("更新失败")})}function d(t){u.updateDialog=!0,l=t,u.title=l.oilcardname}var l,u=t;u.onDelete=e,u.onAdd=a,u.showAddDialog=c,u.onUpdate=o,u.onSelect=d,n()}angular.module("app").controller("discount.ManageController",["$scope","Core",t])}();
!function(){function e(e,t,a){function A(){v.showDetail=!1}function n(){v.leaveStat={},v.reimbStat={},v.tripStat={},v.leaveData=[],v.tripData=[],v.reimbData=[],v.reimbDataY=[],v.leaveDataY=[],v.tripDataY=[],v.showDetail=!1}function i(){a.publish("init-chart",{x:v.leaveData,y:v.leaveDataY,type:a.Const.APP.TYPE.TYPE_ADMIN_LEAVE})}function o(){a.publish("init-chart",{x:v.reimbData,y:v.reimbDataY,type:a.Const.APP.TYPE.TYPE_FIN_REIMB})}function P(){a.publish("init-chart",{x:v.tripData,y:v.tripDataY,type:a.Const.APP.TYPE.TYPE_WORK_BUSINESS})}function _(e,t,a,n){switch(e){case-1:A(),m(t,a,!1,n);break;case 0:A();break;case 1:A(),E(t,a,!1,n)}}function r(e){v.clickItem=v.apvList[e].data,v.showDetail=!0}function c(){a.Api.APV_MANAGE.getApvManageApprovePendingList(v.company.id,"",1).then(function(e){if(0==e.code){var t=e.data.approve_pending_list;v.apvList=p(t)}},function(e){})}function p(e){var t=[];for(var A in e){var n={};switch(n.userName=v.user.name,n.status=" 待审批",n.creatTime=a.Util.timeFormat(e[A].create_time),n.data=e[A],n.id=e[A].id,e[A].apv_type){case a.Const.APP.APV_MANAGE.APV_TYPE_TEMPLATE:n.name=e[A].template.name,n.type=999;break;case a.Const.APP.APV_MANAGE.APV_TYPE_ADMIN_LEAVE:n.name="请假",n.type=1;break;case a.Const.APP.APV_MANAGE.APV_TYPE_FIN_PAY:n.name="支付",n.type=2;break;case a.Const.APP.APV_MANAGE.APV_TYPE_FIN_REIMB:n.name="报销",n.type=3;break;case a.Const.APP.APV_MANAGE.APV_TYPE_HR_RECRUITMENT:n.name="招募";break;case a.Const.APP.APV_MANAGE.APV_TYPE_WORK_BUSINESS:n.name="外勤",n.type=5;break;case a.Const.APP.APV_MANAGE.APV_TYPE_FIN_FUND:n.name="备用金申请",n.type=6;break;case a.Const.APP.APV_MANAGE.APV_TYPE_ADMIN_RES:n.name="";break;case a.Const.APP.APV_MANAGE.APV_TYPE_ADMIN_RES_GOODS:n.name="物品申领",n.type=8;break;case a.Const.APP.APV_MANAGE.APV_TYPE_ADMIN_RES_STAMP:n.name="用印申请",n.type=9;break;case a.Const.APP.APV_MANAGE.APV_TYPE_ADMIN_RES_CAR:n.name="用车申请",n.type=10;break;case a.Const.APP.APV_MANAGE.APV_TYPE_CARD:n.name="名片申请",n.type=11;break;case a.Const.APP.APV_MANAGE.APV_TYPE_CONTRACT:n.name="合同",n.type=12;break;case a.Const.APP.APV_MANAGE.APV_TYPE_TRAIN:n.name="培训",n.type=13;break;case a.Const.APP.APV_MANAGE.APV_TYPE_REPORT:n.name="报告",n.type=14;break;case a.Const.APP.APV_MANAGE.APV_TYPE_FIN_TRIP_REIMB:n.name="差旅费",n.type=15}if(t.push(n),A>=4)break}return t}function s(e){if(v.showDetail=!0,10999==e.itemType||999==e.itemType)v.clickItem=e.apvItem,v.clickItem.apv_type=999;else{var t={};t.isHome=!0,e.apvItem.apv?(t.org_id=e.apvItem.apv.org_id,t.id=e.apvItem.apv.id,t.org_root_id=e.apvItem.apv.org_root_id,v.clickItem=t,v.clickItem.apv_type=e.apvItem.apv.apv_type):(t.org_id=e.apvItem.org_id,t.id=e.apvItem.id,t.org_root_id=e.apvItem.org_root_id,v.clickItem=t,v.clickItem.apv_type=e.apvItem.apv_type)}}function E(e,t,A,n,i){A&&i.stopPropagation(),a.Api.APV_MANAGE.permitApv(e,N,t,n,"同意").then(function(e){0==e.code&&(v.onItem=!1,v.onApprove=!1,c(),a.Notify.success("操作成功"))},function(e){a.Notify.error("操作失败")})}function m(e,t,A,n,i){A&&i.stopPropagation(),a.Api.APV_MANAGE.rejectApv(e,N,t,n,"不同意").then(function(e){0==e.code&&(v.onItem=!1,v.onApprove=!1,c(),a.Notify.success("操作成功"))},function(e){a.Notify.error("操作失败")})}var v=t;v.user=a.Data.getUser(),v.user.avatar=a.Data.getAvatar(v.user.avatar),v.onClickCell=r,v.onClickBackground=A,v.onClickBtn=_,v.onClickPermit=E,v.onClickReject=m,v.onClickLeave=i,v.onClickTrip=P,v.onClickReimb=o,v.isShowNotify=!1;v.onClickDetail=s,a.on(a.Const.EVENT.EVENT_ORG_CHANGE,function(e,t){n()});var N;n()}angular.module("app").controller("adminHome",["$q","$scope","Core",e])}();
!function(){function t(t,n){function i(){n.Log.d("init"),n.Api.getUserInvoiceList(u,s,a).then(function(t){n.Log.d(t),0==t.status?(n.Log.d(t),t.data&&o(t.data)):n.Notify.info("获取失败")})}function o(t){for(var n=0;n<t.length;n++)0==t[n].status?t[n].status="未开":1==t[n].status?t[n].status="已开":2==t[n].status&&(t[n].status="拒开");e.itemList=t}var e=t,s=1,a=8,u=0;e.group=!0,e.itemList=[],i(),e.rechargeSuccess=function(t){n.Log.d("Success"),n.Api.updateUserInvoiceStatus(n.Data.get("aid"),t.id,1).then(function(t){0==t.status?(n.Notify.info("操作成功"),i()):n.Notify.info("操作失败")})},e.rechargeError=function(t){n.Log.d("Success"),n.Api.updateUserInvoiceStatus(n.Data.get("aid"),t.id,2).then(function(t){0==t.status?(n.Notify.info("操作成功"),i()):n.Notify.info("操作失败")})},e.next=function(){n.Log.d("next"+s),n.Log.d("next"+e.itemList.length),8==e.itemList.length&&(s++,n.Api.getUserInvoiceList(u,s,a).then(function(t){0==t.status?(n.Log.d(t),t.data&&o(t.data)):n.Notify.info("获取失败")}))},e.last=function(){n.Log.d("next"+s),s>1&&(s--,n.Api.getUserInvoiceList(u,s,a).then(function(t){0==t.status?(n.Log.d(t),t.data&&o(t.data)):n.Notify.info("获取失败")}))},e.check0=function(){u=0,e.group=!0,i()},e.check1=function(){u=1,e.group=!1,i()},e.check2=function(){u=2,e.group=!1,i()}}angular.module("app").controller("invoice.ManageController",["$scope","Core",t])}();
!function(){function a(a,n,t){function e(){console.log("getUserDetail"),n.Api.getMerchantBankCard(r).then(function(a){if(n.Log.d(a),a.data){o.bankCards=a.data.merchantbankcard,o.goods=a.data.merchantgoods;var t=a.data.merchant;t&&(o.name=t.mname,o.phone=t.mphone,o.address=t.maddress)}})}var o=a;n.Log.d("init"),n.Log.d(t.data);var r=t.data;e()}angular.module("app").controller("merchant.DetailController",["$scope","Core","$stateParams",a])}();
!function(){function t(t,n){function e(){n.Log.d("init"),n.Api.queryAllMerchant(o,l).then(function(t){if(n.Log.d(t),t.data){for(var e=0;e<t.data.length;e++)"[]"==t.data[e].tel&&(t.data[e].tel="无");i.itemList=t.data}})}function a(t){n.Log.d("select mer"+t),n.go("admin.merchant-detail",t)}var i=t,o=1,l=10;i.onSelect=a,e(),i.next=function(){n.Log.d("next"+o),n.Log.d("next"+i.itemList.length),10==i.itemList.length&&(o++,n.Api.queryAllMerchant(o,l).then(function(t){n.Log.d(t),i.itemList=t.data}))},i.last=function(){n.Log.d("next"+o),o>1&&(o--,n.Api.queryAllMerchant(o,l).then(function(t){n.Log.d(t),i.itemList=t.data}))}}angular.module("app").controller("merchant.ManageController",["$scope","Core",t])}();
!function(){function t(t,i){function n(){i.Log.d("init"),i.Log.d(i.Data.get("aid")),i.Api.getAllAdminGoods().then(function(t){i.Log.d(t),0==t.status?t.data&&c(t.data):i.Notify.info("更新失败")})}function o(t){}function e(t){swal({title:"您确定要删除这条信息吗",text:"删除后将无法恢复，请谨慎操作！",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"删除",closeOnConfirm:!1},function(){i.Api.deleteAdminGoods(i.Data.get("aid"),t.typeid).then(function(i){if(0==i.status){for(var n=0;n<f.itemList.length;n++)f.itemList[n].typeid==t.typeid&&f.itemList.splice(n,1);swal("删除成功！","您已经永久删除了这条信息。","success")}})})}function a(){i.Api.addAdminGoods(i.Data.get("aid"),f.name,f.price).then(function(t){0==t.status?n():i.Notify.info("添加失败")})}function s(){f.company="",f.discount=""}function o(){i.Api.updateAdminGoods(i.Data.get("aid"),u.typeid,f.title,f.price).then(function(t){0==t.status?n():i.Notify.info("更新失败")})}function d(t){f.updateDialog=!0,u=t,f.title=u.typename}function c(t){for(var i=0;i<t.length;i++)0==t[i].isrise?t[i].isrise="持平":1==t[i].isrise?t[i].isrise="上涨":t[i].isrise==-1&&(t[i].isrise="下调");f.itemList=t}var u,f=t;f.onDelete=e,f.onAdd=a,f.showAddDialog=s,f.onUpdate=o,f.onSelect=d,n()}angular.module("app").controller("oil-manager.ManageController",["$scope","Core",t])}();
!function(){function t(t,i){function n(){i.Log.d("init"),i.Api.getUserOilcardSerialList(c,o,s).then(function(t){i.Log.d(t),0==t.status?(i.Log.d(t),t.data&&e(t.data)):i.Notify.info("获取失败")})}function e(t){for(var i=0;i<t.length;i++)1==t[i].status?t[i].status="未充值":2==t[i].status&&(t[i].status="充值成功");a.itemList=t}var a=t,o=1,s=10,c=1;a.itemList=[],n(),a.rechargeSuccess=function(t){i.Log.d("Success"),i.Api.updateUserOilcardSerialById(t.id,i.Data.get("aid")).then(function(t){0==t.status?(i.Notify.info("操作成功"),n()):i.Notify.info("操作失败")})},a.rechargeError=function(t){},a.check2=function(){c=2,n()},a.check1=function(){c=1,n()},a.next=function(){i.Log.d("next"+o),i.Log.d("next"+a.itemList.length),10==a.itemList.length&&(o++,i.Api.getUserOilcardSerialList(c,o,s).then(function(t){0==t.status?(i.Log.d(t),t.data&&e(t.data)):i.Notify.info("获取失败")}))},a.last=function(){i.Log.d("next"+o),o>1&&(o--,i.Api.getUserOilcardSerialList(c,o,s).then(function(t){0==t.status?(i.Log.d(t),t.data&&e(t.data)):i.Notify.info("获取失败")}))}}angular.module("app").controller("recharge.ManageController",["$scope","Core",t])}();
!function(){function a(a,e,o){function t(){console.log("getUserDetail"),e.Api.getUserOilcardByUid(n).then(function(a){if(e.Log.d(a),a.data){r.oilCards=a.data.oilcard;var o=a.data.user;o&&(r.name=o.uname,r.phone=o.uphone,r.plate=o.uemail)}})}e.Log.d("init"),e.Log.d(o.data);var n=o.data,r=a;t()}angular.module("app").controller("user.DetailController",["$scope","Core","$stateParams",a])}();
!function(){function t(t,e){function n(){e.Log.d("init"),e.Api.queryAllUser(0,a,u).then(function(t){0==t.status&&(e.Log.d(t),s.itemList=t.data)})}function i(t){e.Log.d("select user"+t),e.go("admin.user-detail",t)}function o(){e.Api.queryUser(0,s.search).then(function(t){e.Log.d(t),0==t.status&&(t.data?(s.itemList=[],s.itemList.push(t.data)):e.Notify.info("未找到用户"))})}var s=t,a=1,u=10;s.onSelect=i,s.onSearch=o,s.itemList=[],n(),s.next=function(){e.Log.d("next"+a),e.Log.d("next"+s.itemList.length),10==s.itemList.length&&(a++,e.Api.queryAllUser(0,a,u).then(function(t){0==t.status&&(e.Log.d(t),s.itemList=t.data)}))},s.last=function(){e.Log.d("next"+a),a>1&&(a--,e.Api.queryAllUser(0,a,u).then(function(t){0==t.status&&(e.Log.d(t),s.itemList=t.data)}))}}angular.module("app").controller("user.ManageController",["$scope","Core",t])}();
!function(){function a(a,n){var e=a;n.publish(n.Const.DATA.KEY_DEFAULT_NAVIGATION,"withdraw"),e.itemList=[{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"},{id:"",bankcard:"6228480402564890018 ",bankname:"中国银行",name:"张三",money:"300.00",status:"提现成功"}]}angular.module("app").controller("withdraw.ManageController",["$scope","Core",a])}();